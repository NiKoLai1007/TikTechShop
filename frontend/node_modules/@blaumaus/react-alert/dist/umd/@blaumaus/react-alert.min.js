!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("prop-types"),require("react-transition-group"),require("react-dom")):"function"==typeof define&&define.amd?define(["exports","react","prop-types","react-transition-group","react-dom"],t):t((e=e||self).BlaumausReactAlert={},e.React,e.PropTypes,e.ReactTransitionGroup,e.ReactDOM)}(this,function(e,j,t,C,R){"use strict";var I="default"in j?j.default:j;function r(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function P(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach(function(e){o(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function o(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function S(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};for(var n,r={},o=Object.keys(e),i=0;i<o.length;i++)n=o[i],0<=t.indexOf(n)||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),i=0;i<o.length;i++)n=o[i],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],c=!0,u=!1;try{for(n=n.call(e);!(c=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{c||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;function D(e){var t=e.children,n=(r=e.options).position,r=r.containerStyle,e=S(e,l),o=j.useMemo(function(){return s(n)},[n]);return 0<t.length&&I.createElement("div",x({style:P(P({},o),r)},e),t)}function w(e){var t=e.children,n=e.type,e=S(e,f),r=j.useRef(null);return I.createElement(C.Transition,x({nodeRef:r},e,{timeout:p}),function(e){return I.createElement("div",{ref:r,style:P(P({},m[n]),d[n][e])},t)})}function n(e){var r,t=e.children,n=e.offset,o=e.position,i=e.timeout,c=e.type,u=e.transition,a=e.containerStyle,l=e.template,s=e.context,f=S(e,L),p=j.useRef(null),m=j.useRef(null),d=j.useRef([]),y=(e=_(j.useState([]),2))[0],O=e[1],b=(j.useEffect(function(){p.current=document.createElement("div"),p.current.id="__react-alert__",document.body.appendChild(p.current);var e=d.current;return function(){e.forEach(clearTimeout),p.current&&document.body.removeChild(p.current)}},[]),j.useCallback(function(n){O(function(e){var t=e.length,e=e.filter(function(e){return e.id!==n.id});return t>e.length&&n.options.onClose&&n.options.onClose(),e})},[])),e=j.useCallback(function(){m.current.alerts.forEach(b)},[b]),h=j.useCallback(function(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r={id:Math.random().toString(36).substr(2,9),message:t,options:P({position:n.position||o,timeout:i,type:c},n),close:function(){return b(r)}};return r.options.timeout&&(e=setTimeout(function(){b(r),d.current.splice(d.current.indexOf(e),1)},r.options.timeout),d.current.push(e)),O(function(e){return e.concat(r)}),r.options.onOpen&&r.options.onOpen(),r},[o,b,i,c]),v=j.useCallback(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return t.type=M.SUCCESS,h(e,t)},[h]),E=j.useCallback(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return t.type=M.ERROR,h(e,t)},[h]),g=j.useCallback(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return t.type=M.INFO,h(e,t)},[h]),T=(m.current={alerts:y,show:h,remove:b,removeAll:e,success:v,error:E,info:g},r=function(e){return e.options.position},y.reduce(function(e,t){var n=r(t);return e[n]||(e[n]=[]),e[n].push(t),e},{}));return I.createElement(s.Provider,{value:m},t,p.current&&R.createPortal(I.createElement(j.Fragment,null,Object.keys(A).map(function(e){e=A[e];return I.createElement(C.TransitionGroup,x({appear:!0,key:e,options:{position:e,containerStyle:a},component:D},f),T[e]?T[e].map(function(e){return I.createElement(w,{type:u,key:e.id},I.createElement(l,x({style:{margin:n,pointerEvents:"all"}},e)))}):null)})),p.current))}var c,u=j.createContext(),A={TOP_LEFT:"top left",TOP_CENTER:"top center",TOP_RIGHT:"top right",MIDDLE_LEFT:"middle left",MIDDLE:"middle",MIDDLE_RIGHT:"middle right",BOTTOM_LEFT:"bottom left",BOTTOM_CENTER:"bottom center",BOTTOM_RIGHT:"bottom right"},M={INFO:"info",SUCCESS:"success",ERROR:"error"},a={FADE:"fade",SCALE:"scale"},l=["children","options"],s=function(e){var t={left:0,position:"fixed",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",width:"100%",pointerEvents:"none"};switch(e){case A.TOP_LEFT:return P(P({},t),{},{top:0,alignItems:"flex-start"});case A.TOP_CENTER:return P(P({},t),{},{top:0});case A.TOP_RIGHT:return P(P({},t),{},{top:0,alignItems:"flex-end"});case A.MIDDLE_LEFT:return P(P({},t),{},{top:"50%",alignItems:"flex-start"});case A.MIDDLE:return P(P({},t),{},{top:"50%"});case A.MIDDLE_RIGHT:return P(P({},t),{},{top:"50%",alignItems:"flex-end"});case A.BOTTOM_LEFT:return P(P({},t),{},{bottom:0,alignItems:"flex-start"});case A.BOTTOM_CENTER:return P(P({},t),{},{bottom:0});case A.BOTTOM_RIGHT:return P(P({},t),{},{bottom:0,alignItems:"flex-end"});default:return t}},f=["children","type"],p=250,m=(o(c={},a.FADE,{transition:"opacity ".concat(p,"ms ease"),opacity:0}),o(c,a.SCALE,{transform:"scale(1)",transition:"all ".concat(p,"ms ease-in-out")}),c),d=(o(c={},a.FADE,{entering:{opacity:0},entered:{opacity:1}}),o(c,a.SCALE,{entering:{transform:"scale(0)"},entered:{transform:"scale(1)"},exiting:{transform:"scale(0)"},exited:{transform:"scale(1)"}}),c),L=["children","offset","position","timeout","type","transition","containerStyle","template","context"];n.propTypes={offset:t.string,position:t.oneOf(Object.keys(A).map(function(e){return A[e]})),timeout:t.number,type:t.oneOf(Object.keys(M).map(function(e){return M[e]})),transition:t.oneOf(Object.keys(a).map(function(e){return a[e]})),containerStyle:t.object,template:t.oneOfType([t.element,t.func,t.elementType]).isRequired,context:t.shape({Provider:t.object,Consumer:t.object})},n.defaultProps={offset:"10px",position:A.TOP_CENTER,timeout:0,type:M.INFO,transition:a.FADE,containerStyle:{zIndex:100},context:u};e.Provider=n,e.positions=A,e.transitions=a,e.types=M,e.useAlert=function(e){var t=j.useContext(e||u);return j.useMemo(function(){return t.current},[t])},e.withAlert=function(){var o=0<arguments.length&&void 0!==arguments[0]?arguments[0]:u;return function(r){function e(t,n){return I.createElement(o.Consumer,null,function(e){return I.createElement(r,x({ref:n},t,{alert:e.current}))})}return e.displayName="WithAlert(".concat(r.displayName||r.name||"Component",")"),I.forwardRef(e)}},Object.defineProperty(e,"__esModule",{value:!0})});
