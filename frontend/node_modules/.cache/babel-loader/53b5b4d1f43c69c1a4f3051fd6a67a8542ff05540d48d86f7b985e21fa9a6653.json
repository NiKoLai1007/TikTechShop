{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\TikTechShop\\\\frontend\\\\src\\\\Components\\\\Admin\\\\ProductSalesChart.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { getToken } from \"../../utils/helpers\";\nimport axios from \"axios\";\nimport Loader from '../Layout/Loader';\nimport { PieChart, Pie, Legend, Tooltip, ResponsiveContainer, Cell } from 'recharts';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ProductSalesChart({\n  data\n}) {\n  _s();\n  const [sales, setSales] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const pieColors = [\"#FF6633\", \"#FFB399\", \"#FF33FF\", \"#FFFF99\", \"#00B3E6\", \"#E6B333\", \"#3366E6\", \"#999966\", \"#809980\", \"#E6FF80\", \"#1AFF33\", \"#999933\", \"#FF3380\", \"#CCCC00\", \"#66E64D\", \"#4D80CC\", \"#FF4D4D\", \"#99E6E6\", \"#6666FF\"];\n  // console.log(data)\n\n  const RADIAN = Math.PI / 180;\n  const renderCustomizedLabel = ({\n    cx,\n    cy,\n    midAngle,\n    innerRadius,\n    outerRadius,\n    percent,\n    index\n  }) => {\n    const radius = innerRadius + (outerRadius - innerRadius) * 0.5;\n    const x = cx + radius * Math.cos(-midAngle * RADIAN);\n    const y = cy + radius * Math.sin(-midAngle * RADIAN);\n    return /*#__PURE__*/_jsxDEV(\"text\", {\n      x: x,\n      y: y,\n      fill: \"white\",\n      textAnchor: x > cx ? 'start' : 'end',\n      dominantBaseline: \"central\",\n      children: `${percent}%`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }, this);\n  };\n  const productSales = async () => {\n    try {\n      const config = {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n          'Authorization': `Bearer ${getToken()}`\n        }\n      };\n      const {\n        data\n      } = await axios.get(`http//:localhost:4001/api/v1/admin/product-sales`, config);\n      setSales(data.totalPercentage);\n    } catch (error) {\n      setError(error.response.data.message);\n    }\n  };\n  useEffect(() => {\n    productSales();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n    width: \"90%\",\n    height: 1000,\n    children: /*#__PURE__*/_jsxDEV(PieChart, {\n      width: 1000,\n      height: 1000,\n      children: [/*#__PURE__*/_jsxDEV(Pie, {\n        dataKey: \"percent\",\n        nameKey: \"name\",\n        isAnimationActive: true,\n        data: sales,\n        cx: \"50%\",\n        cy: \"50%\",\n        outerRadius: 300,\n        fill: \"#8884d8\",\n        label: renderCustomizedLabel,\n        labelLine: false\n        // label\n        ,\n        children: [\"  \", sales.map((entry, index) => /*#__PURE__*/_jsxDEV(Cell, {\n          fill: pieColors[index % pieColors.length]\n        }, `cell-${index}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 53\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Tooltip, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Legend, {\n        layout: \"vertical\",\n        verticalAlign: \"top\",\n        align: \"right\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 9\n  }, this);\n}\n_s(ProductSalesChart, \"1UX7vUp3VC2WP2/Wshp4leQfdkg=\");\n_c = ProductSalesChart;\nvar _c;\n$RefreshReg$(_c, \"ProductSalesChart\");","map":{"version":3,"names":["React","useState","useEffect","getToken","axios","Loader","PieChart","Pie","Legend","Tooltip","ResponsiveContainer","Cell","jsxDEV","_jsxDEV","ProductSalesChart","data","_s","sales","setSales","loading","setLoading","error","setError","pieColors","RADIAN","Math","PI","renderCustomizedLabel","cx","cy","midAngle","innerRadius","outerRadius","percent","index","radius","x","cos","y","sin","fill","textAnchor","dominantBaseline","children","fileName","_jsxFileName","lineNumber","columnNumber","productSales","config","headers","get","totalPercentage","response","message","width","height","dataKey","nameKey","isAnimationActive","label","labelLine","map","entry","length","layout","verticalAlign","align","_c","$RefreshReg$"],"sources":["C:/Users/Admin/TikTechShop/frontend/src/Components/Admin/ProductSalesChart.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { getToken } from \"../../utils/helpers\";\r\nimport axios from \"axios\";\r\nimport Loader from '../Layout/Loader';\r\n\r\nimport { PieChart, Pie, Legend, Tooltip, ResponsiveContainer, Cell } from 'recharts';\r\n\r\nexport default function ProductSalesChart({ data }) {\r\n    const [sales, setSales] = useState([])\r\n    const [loading, setLoading] = useState(true)\r\n    const [error, setError] = useState('')\r\n    const pieColors = [\r\n        \"#FF6633\",\r\n        \"#FFB399\",\r\n        \"#FF33FF\",\r\n        \"#FFFF99\",\r\n        \"#00B3E6\",\r\n        \"#E6B333\",\r\n        \"#3366E6\",\r\n        \"#999966\",\r\n        \"#809980\",\r\n        \"#E6FF80\",\r\n        \"#1AFF33\",\r\n        \"#999933\",\r\n        \"#FF3380\",\r\n        \"#CCCC00\",\r\n        \"#66E64D\",\r\n        \"#4D80CC\",\r\n        \"#FF4D4D\",\r\n        \"#99E6E6\",\r\n        \"#6666FF\"\r\n    ]\r\n    // console.log(data)\r\n\r\n    const RADIAN = Math.PI / 180;\r\n    const renderCustomizedLabel = ({ cx, cy, midAngle, innerRadius, outerRadius, percent, index }) => {\r\n        const radius = innerRadius + (outerRadius - innerRadius) * 0.5;\r\n        const x = cx + radius * Math.cos(-midAngle * RADIAN);\r\n        const y = cy + radius * Math.sin(-midAngle * RADIAN);\r\n\r\n        return (\r\n            <text x={x} y={y} fill=\"white\" textAnchor={x > cx ? 'start' : 'end'} dominantBaseline=\"central\">\r\n                {`${percent}%`}\r\n            </text>\r\n        );\r\n    };\r\n    const productSales = async () => {\r\n        try {\r\n            const config = {\r\n                headers: {\r\n                    'Content-Type': 'multipart/form-data',\r\n                    'Authorization': `Bearer ${getToken()}`\r\n                }\r\n            }\r\n\r\n            const { data } = await axios.get(`http//:localhost:4001/api/v1/admin/product-sales`, config)\r\n            setSales(data.totalPercentage)\r\n\r\n        } catch (error) {\r\n            setError(error.response.data.message)\r\n            \r\n        }\r\n    }\r\n    useEffect(() => {\r\n        productSales()\r\n    }, [])\r\n\r\n\r\n    return (\r\n        <ResponsiveContainer width=\"90%\" height={1000}>\r\n            <PieChart width={1000} height={1000}>\r\n                {/* <Pie data={data} dataKey=\"percent\" nameKey=\"name\" cx=\"50%\" cy=\"50%\" outerRadius={50} fill=\"#8884d8\" /> */}\r\n                <Pie\r\n                    dataKey=\"percent\"\r\n                    nameKey=\"name\"\r\n                    isAnimationActive={true}\r\n                    data={sales}\r\n                    cx=\"50%\"\r\n                    cy=\"50%\"\r\n                    outerRadius={300}\r\n                    fill=\"#8884d8\"\r\n                    label={renderCustomizedLabel}\r\n                    labelLine={false}\r\n                // label\r\n                >  {\r\n                        sales.map((entry, index) => <Cell key={`cell-${index}`} fill={pieColors[index % pieColors.length]} />)\r\n                    }\r\n                </Pie>\r\n                <Tooltip />\r\n                <Legend layout=\"vertical\" verticalAlign=\"top\" align=\"right\" />\r\n            </PieChart>\r\n        </ResponsiveContainer>\r\n\r\n\r\n    );\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}