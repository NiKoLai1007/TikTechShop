{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\TikTechShop\\\\frontend\\\\src\\\\Components\\\\User\\\\UpdatePassword.js\",\n  _s = $RefreshSig$();\nimport React, { Fragment, useState, useEffect } from 'react';\nimport { useNavigate } from \"react-router-dom\";\nimport MetaData from '../Layout/Metadata';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport axios from 'axios';\nimport { getToken } from '../../utils/helpers';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UpdatePassword = () => {\n  _s();\n  const [oldPassword, setOldPassword] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n  const [isUpdated, setIsUpdated] = useState(false);\n  const [loading, setLoading] = useState(false);\n  let navigate = useNavigate();\n  const updatePassword = async formData => {\n    console.log(formData);\n    try {\n      const config = {\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${getToken()}`\n        }\n      };\n      const {\n        data\n      } = await axios.put(`http://localhost:4001/api/v1/password/update`, formData, config);\n      setIsUpdated(data.success);\n      setLoading(false);\n      toast.success('password updated', {\n        position: toast.POSITION.BOTTOM_RIGHT\n      });\n      navigate('/me');\n    } catch (error) {\n      setError(error.response.data.message);\n    }\n  };\n  useEffect(() => {\n    if (error) {\n      toast.error(error, {\n        position: toast.POSITION.BOTTOM_RIGHT\n      });\n    }\n  }, [error]);\n  const submitHandler = e => {\n    e.preventDefault();\n    const formData = new FormData();\n    formData.set('oldPassword', oldPassword);\n    formData.set('password', password);\n    updatePassword(formData);\n  };\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(MetaData, {\n      title: 'Change Password'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row wrapper\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-10 col-lg-5\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"shadow-lg\",\n          onSubmit: submitHandler,\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"mt-2 mb-5\",\n            children: \"Update Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"old_password_field\",\n              children: \"Old Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              id: \"old_password_field\",\n              className: \"form-control\",\n              value: oldPassword,\n              onChange: e => setOldPassword(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"new_password_field\",\n              children: \"New Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              id: \"new_password_field\",\n              className: \"form-control\",\n              value: password,\n              onChange: e => setPassword(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"btn update-btn btn-block mt-4 mb-3\",\n            disabled: loading ? true : false,\n            children: \"Update Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 9\n  }, this);\n};\n_s(UpdatePassword, \"HPynHRrvR4lxnfKJ7/SkG9a9QQg=\", false, function () {\n  return [useNavigate];\n});\n_c = UpdatePassword;\nexport default UpdatePassword;\nvar _c;\n$RefreshReg$(_c, \"UpdatePassword\");","map":{"version":3,"names":["React","Fragment","useState","useEffect","useNavigate","MetaData","toast","axios","getToken","jsxDEV","_jsxDEV","UpdatePassword","_s","oldPassword","setOldPassword","password","setPassword","error","setError","isUpdated","setIsUpdated","loading","setLoading","navigate","updatePassword","formData","console","log","config","headers","data","put","success","position","POSITION","BOTTOM_RIGHT","response","message","submitHandler","e","preventDefault","FormData","set","children","title","fileName","_jsxFileName","lineNumber","columnNumber","className","onSubmit","htmlFor","type","id","value","onChange","target","disabled","_c","$RefreshReg$"],"sources":["C:/Users/Admin/TikTechShop/frontend/src/Components/User/UpdatePassword.js"],"sourcesContent":["import React, { Fragment, useState, useEffect } from 'react'\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport MetaData from '../Layout/Metadata';\r\nimport { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport axios from 'axios';\r\nimport { getToken } from '../../utils/helpers';\r\n\r\nconst UpdatePassword = () => {\r\n\r\n    const [oldPassword, setOldPassword] = useState('')\r\n    const [password, setPassword] = useState('')\r\n    const [error, setError] = useState('')\r\n    const [isUpdated, setIsUpdated] = useState(false)\r\n    const [loading, setLoading] = useState(false)\r\n    let navigate = useNavigate();\r\n    const updatePassword = async (formData) => {\r\n        console.log(formData)\r\n        try {\r\n            const config = {\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `Bearer ${getToken()}`\r\n                }\r\n            }\r\n\r\n            const {data } = await axios.put(`http://localhost:4001/api/v1/password/update`, formData, config)\r\n            setIsUpdated(data.success)\r\n            setLoading(false)\r\n            toast.success('password updated', {\r\n                position: toast.POSITION.BOTTOM_RIGHT\r\n            });\r\n            navigate('/me')\r\n        } catch (error) {\r\n            setError(error.response.data.message)\r\n        }\r\n    }\r\n    useEffect(() => {\r\n        if (error) {\r\n            toast.error(error, {\r\n                position: toast.POSITION.BOTTOM_RIGHT\r\n            });\r\n        }\r\n    }, [error, ])\r\n\r\n    const submitHandler = (e) => {\r\n        e.preventDefault();\r\n        const formData = new FormData();\r\n        formData.set('oldPassword', oldPassword);\r\n        formData.set('password', password);\r\n        updatePassword(formData)\r\n    }\r\n\r\n    return (\r\n        <Fragment>\r\n            <MetaData title={'Change Password'} />\r\n\r\n            <div className=\"row wrapper\">\r\n                <div className=\"col-10 col-lg-5\">\r\n                    <form className=\"shadow-lg\" onSubmit={submitHandler} >\r\n                        <h1 className=\"mt-2 mb-5\">Update Password</h1>\r\n                        <div className=\"form-group\">\r\n                            <label htmlFor=\"old_password_field\">Old Password</label>\r\n                            <input\r\n                                type=\"password\"\r\n                                id=\"old_password_field\"\r\n                                className=\"form-control\"\r\n                                value={oldPassword}\r\n                                onChange={(e) => setOldPassword(e.target.value)}\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"form-group\">\r\n                            <label htmlFor=\"new_password_field\">New Password</label>\r\n                            <input\r\n                                type=\"password\"\r\n                                id=\"new_password_field\"\r\n                                className=\"form-control\"\r\n                                value={password}\r\n                                onChange={(e) => setPassword(e.target.value)}\r\n                            />\r\n                        </div>\r\n\r\n                        <button type=\"submit\" className=\"btn update-btn btn-block mt-4 mb-3\" disabled={loading ? true : false} >Update Password</button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default UpdatePassword"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}